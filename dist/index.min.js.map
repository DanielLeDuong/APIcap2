{"version":3,"sources":["index.js"],"names":["express","require","mongoose","cors","RegisterModel","cookieParser","authRoute","userRoute","app","use","json","connect","req","res","create","body","then","regis","err","_req$body","username","user","console","log","password","findOne","_req$body2","id","rest","data","regeneratorRuntime","async","_context","prev","next","_objectWithoutProperties","awrap","updateOne","_id","sent","success","message","stop","put","listen"],"mappings":"mdAGA,IAAMA,QAAUC,QAAQ,WAClBC,SAAWD,QAAQ,YACnBE,KAAOF,QAAQ,QALrBG,cAAAH,QAAA,sBACAI,aAAAJ,QAAA,iBAQMK,UAAYL,QAAQ,iBALpBC,IAAQF,UASRO,UAAYN,QAAQ,iBAE1BO,IAAIC,IAAIT,QAAQU,QARhBF,IAAMH,IAAAA,QAUNG,IAAIC,IAAIJ,gBAGRH,SAASS,QAAQ,wGALjBH,IAAIC,KAAIT,YAAA,SAARY,EAAAC,GACIJ,cAAJK,OAAAF,EAAAG,MAYKC,KAAK,SAAAC,GAAK,OAAIJ,EAAIH,KAAKO,KAZxBR,MAIKE,SAAAA,GAAAA,OAAQE,EAAAH,KAAAQ,OAMbd,IAAAA,KAAAA,SAAcU,SAAAA,EAAOF,GAArB,IAAAO,EAEWP,EAAAG,KAAIF,EAFfM,EAEeN,SAASI,EAFxBE,EAEwBF,SACdb,cAAQM,QAAR,CAAAU,SAAAA,IAHVJ,KAAA,SAAAK,GADJC,QAAAC,IAAAF,GAOSA,EAAuBA,EACAT,WADAY,EAAAX,EAAAH,KAAA,WAGde,EAAdf,KAAsB,6BAAWU,EAAAA,KAAAA,kBAKrBP,IAAAA,IAAAA,UAAS,SAATD,EAAAC,GAAS,IAAAa,EAAAC,EAAAC,EAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAR,EAERd,EAAAG,KAHLY,EACaD,EADbC,GAGKC,EAFQO,yBAAAT,EAAA,CAAA,OAEgCJ,QAAAC,IAAAK,GAFhCI,EAAAE,KAAA,EAAAJ,mBAAAM,MAGVhC,cAAAiC,UAAA,CAAAC,IAAAX,GAAAC,IAHU,KAAA,EAFjBC,EAEiBG,EAAAO,KAGT1B,EAAAA,KAAIH,CAAJ8B,SAAS,EAATC,QAAA,qBAAAZ,KAAAA,IAHS,KAAA,EAAA,IAAA,MAAA,OAAAG,EAAAU,YAkBzBlC,IAAIC,IAAI,WAAYH,WATpBE,IAAImC,IAAI,WAAWpC,WAYnBC,IAAIoC,OAAO,KAAM,WAZEtB,QAAAC,IAAA","file":"index.min.js","sourcesContent":["//WF3Xhi73BH6dXiOr\r\n//mavoiem\r\n\r\nconst express = require('express')\r\nconst mongoose = require('mongoose')\r\nconst cors = require('cors')\r\nconst RegisterModel = require('./ApiUser/Register')\r\nconst cookieParser = require('cookie-parser')\r\n//post\r\nconst authRoute = require('./routes/auth')\r\nconst app = express()\r\n\r\n//get\r\nconst userRoute = require('./routes/user')\r\n\r\napp.use(express.json())\r\napp.use(cors())\r\napp.use(cookieParser())\r\n\r\n//connect\r\nmongoose.connect('mongodb+srv://mavoiem:WF3Xhi73BH6dXiOr@cap2api.evksd.mongodb.net/Cap2API?retryWrites=true&w=majority')\r\n\r\n\r\n//authentication\r\n\r\napp.post('/register',(req,res) =>{\r\n    RegisterModel.create(req.body)\r\n\r\n    .then(regis => res.json(regis))\r\n    .catch(err => res.json(err))\r\n})\r\n\r\napp.post('/login', (req,res) => {\r\n    const {username,password} = req.body\r\n\r\n    RegisterModel.findOne({username: username})\r\n    .then(user => {\r\n        console.log(user);\r\n        if(user){\r\n            if(user.password === password){\r\n                res.json(\"Success\")\r\n            } \r\n            else { res.json(\"the password is incorrect\")}\r\n        } else {res.json('No existed')}\r\n    })\r\n})\r\n\r\n\r\n//update\r\napp.put('/update', async (req,res) => {\r\n    const {id, ...rest} = req.body\r\n\r\n    console.log(rest)\r\n    const data = await RegisterModel.updateOne({_id: id}, rest)\r\n    res.send({success: true, message:\"update successfull\", data: data})\r\n})\r\n\r\n//Route\r\napp.use('/v1/auth', authRoute)\r\napp.use('/v1/user', userRoute)\r\n\r\napp.listen(3001, () => {\r\n    console.log(\"server is running\")\r\n})"]}