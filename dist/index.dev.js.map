{"version":3,"sources":["index.js"],"names":["express","require","mongoose","cors","RegisterModel","cookieParser","authRoute","app","userRoute","use","json","connect","post","req","res","create","body","then","regis","err","username","password","findOne","user","console","log","put","id","rest","updateOne","_id","data","send","success","message","listen"],"mappings":";;;;;;AAAA;AACA;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMG,aAAa,GAAGH,OAAO,CAAC,oBAAD,CAA7B;;AACA,IAAMI,YAAY,GAAGJ,OAAO,CAAC,eAAD,CAA5B,C,CACA;;;AACA,IAAMK,SAAS,GAAGL,OAAO,CAAC,eAAD,CAAzB;;AACA,IAAMM,GAAG,GAAGP,OAAO,EAAnB,C,CAEA;;AACA,IAAMQ,SAAS,GAAGP,OAAO,CAAC,eAAD,CAAzB;;AAEAM,GAAG,CAACE,GAAJ,CAAQT,OAAO,CAACU,IAAR,EAAR;AACAH,GAAG,CAACE,GAAJ,CAAQN,IAAI,EAAZ;AACAI,GAAG,CAACE,GAAJ,CAAQJ,YAAY,EAApB,E,CAEA;;AACAH,QAAQ,CAACS,OAAT,CAAiB,sGAAjB,E,CAGA;;AAEAJ,GAAG,CAACK,IAAJ,CAAS,WAAT,EAAqB,UAACC,GAAD,EAAKC,GAAL,EAAY;AAC7BV,EAAAA,aAAa,CAACW,MAAd,CAAqBF,GAAG,CAACG,IAAzB,EAECC,IAFD,CAEM,UAAAC,KAAK;AAAA,WAAIJ,GAAG,CAACJ,IAAJ,CAASQ,KAAT,CAAJ;AAAA,GAFX,WAGO,UAAAC,GAAG;AAAA,WAAIL,GAAG,CAACJ,IAAJ,CAASS,GAAT,CAAJ;AAAA,GAHV;AAIH,CALD;AAOAZ,GAAG,CAACK,IAAJ,CAAS,QAAT,EAAmB,UAACC,GAAD,EAAKC,GAAL,EAAa;AAAA,kBACAD,GAAG,CAACG,IADJ;AAAA,MACrBI,QADqB,aACrBA,QADqB;AAAA,MACZC,QADY,aACZA,QADY;AAG5BjB,EAAAA,aAAa,CAACkB,OAAd,CAAsB;AAACF,IAAAA,QAAQ,EAAEA;AAAX,GAAtB,EACCH,IADD,CACM,UAAAM,IAAI,EAAI;AACVC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,QAAGA,IAAH,EAAQ;AACJ,UAAGA,IAAI,CAACF,QAAL,KAAkBA,QAArB,EAA8B;AAC1BP,QAAAA,GAAG,CAACJ,IAAJ,CAAS,SAAT;AACH,OAFD,MAGK;AAAEI,QAAAA,GAAG,CAACJ,IAAJ,CAAS,2BAAT;AAAsC;AAChD,KALD,MAKO;AAACI,MAAAA,GAAG,CAACJ,IAAJ,CAAS,YAAT;AAAuB;AAClC,GATD;AAUH,CAbD,E,CAgBA;;AACAH,GAAG,CAACmB,GAAJ,CAAQ,SAAR,EAAmB,iBAAOb,GAAP,EAAWC,GAAX;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,uBACOD,GAAG,CAACG,IADX,EACRW,EADQ,cACRA,EADQ,EACDC,IADC;AAGfJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AAHe;AAAA,0CAIIxB,aAAa,CAACyB,SAAd,CAAwB;AAACC,YAAAA,GAAG,EAAEH;AAAN,WAAxB,EAAmCC,IAAnC,CAJJ;;AAAA;AAITG,UAAAA,IAJS;AAKfjB,UAAAA,GAAG,CAACkB,IAAJ,CAAS;AAACC,YAAAA,OAAO,EAAE,IAAV;AAAgBC,YAAAA,OAAO,EAAC,oBAAxB;AAA8CH,YAAAA,IAAI,EAAEA;AAApD,WAAT;;AALe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB,E,CAQA;;AACAxB,GAAG,CAACE,GAAJ,CAAQ,UAAR,EAAoBH,SAApB;AACAC,GAAG,CAACE,GAAJ,CAAQ,UAAR,EAAoBD,SAApB;AAEAD,GAAG,CAAC4B,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACnBX,EAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACH,CAFD","sourcesContent":["//WF3Xhi73BH6dXiOr\r\n//mavoiem\r\n\r\nconst express = require('express')\r\nconst mongoose = require('mongoose')\r\nconst cors = require('cors')\r\nconst RegisterModel = require('./ApiUser/Register')\r\nconst cookieParser = require('cookie-parser')\r\n//post\r\nconst authRoute = require('./routes/auth')\r\nconst app = express()\r\n\r\n//get\r\nconst userRoute = require('./routes/user')\r\n\r\napp.use(express.json())\r\napp.use(cors())\r\napp.use(cookieParser())\r\n\r\n//connect\r\nmongoose.connect('mongodb+srv://mavoiem:WF3Xhi73BH6dXiOr@cap2api.evksd.mongodb.net/Cap2API?retryWrites=true&w=majority')\r\n\r\n\r\n//authentication\r\n\r\napp.post('/register',(req,res) =>{\r\n    RegisterModel.create(req.body)\r\n\r\n    .then(regis => res.json(regis))\r\n    .catch(err => res.json(err))\r\n})\r\n\r\napp.post('/login', (req,res) => {\r\n    const {username,password} = req.body\r\n\r\n    RegisterModel.findOne({username: username})\r\n    .then(user => {\r\n        console.log(user);\r\n        if(user){\r\n            if(user.password === password){\r\n                res.json(\"Success\")\r\n            } \r\n            else { res.json(\"the password is incorrect\")}\r\n        } else {res.json('No existed')}\r\n    })\r\n})\r\n\r\n\r\n//update\r\napp.put('/update', async (req,res) => {\r\n    const {id, ...rest} = req.body\r\n\r\n    console.log(rest)\r\n    const data = await RegisterModel.updateOne({_id: id}, rest)\r\n    res.send({success: true, message:\"update successfull\", data: data})\r\n})\r\n\r\n//Route\r\napp.use('/v1/auth', authRoute)\r\napp.use('/v1/user', userRoute)\r\n\r\napp.listen(3001, () => {\r\n    console.log(\"server is running\")\r\n})"],"file":"index.dev.js"}